# ç¬¬21å›: ï¼‘æ™‚é–“ã§iPhoneã‚¢ãƒ—ãƒªã‚’ä½œã‚ã†
## èŠ±ç«ã‚¢ãƒ—ãƒª

  <div style="text-align:center"><img src ="https://github.com/iosClassForBeginner/fireworks-jp/blob/master/samples/sample.gif" width="50%" height="50%"/></div>  

  å½“ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¸è¨ªã‚Œã¦ã„ãŸã ãã€èª ã«ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚ç¬¬21å›ã‚¢ãƒ—ãƒªæ•™å®¤ã§ã¯ã€èŠ±ç«ã‚¢ãƒ—ãƒªã‚’ä½œã‚Šã¾ã™ã€‚è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã§å‹‰å¼·ã—ãŸã„ã€å‹‰å¼·å‰ã«äºˆç¿’ã—ãŸã„ã€å†…å®¹ã‚’å¾©ç¿’ã—ãŸã„å ´åˆã€ã”åˆ©ç”¨ãã ã•ã„ã€‚

## ã‚¢ãƒ—ãƒªæ•™å®¤ã«èˆˆå‘³ã‚ã‚‹æ–¹ã€æ­“è¿ã—ã¾ã™ã€‚  
  Meetup  
  http://www.meetup.com/ios-dev-in-namba/
  
## åˆ¥é€”ã‚¢ãƒ—ãƒªæ•™å®¤(æœ‰æ–™)ã‚‚é–‹ã„ã¦ãŠã‚Šã¾ã™  
  http://learning-ios-dev.esy.es/  

## å•ã„åˆã‚ã›
  æ ªå¼ä¼šç¤¾ã‚¸ãƒ¼ãƒ©ã‚¤ãƒ–
  http://geelive-inc.com  

## é–‹ç™ºç’°å¢ƒ
  Xcode 8.3.2 / Swift 3
  
  ãƒ»<a href="https://github.com/learn-co-students/reading-ios-intro-to-xcode-qa-public-001">What is Xcode?</a>

## ã‚¢ãƒ—ãƒªä½œæˆæ‰‹é †
## 0, ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ

> 0-1. Xcodeã‚’èµ·å‹•ã€‚
>
> 0-2. "Create a new Xcode project"ã‚’é¸æŠã€‚
>
> 0-3. "Single View Application"ã‚’é¸æŠã—ã¦"Next"ã‚’ã‚¯ãƒªãƒƒã‚¯ã€‚
>
> 0-4. "Product name"ã‚’é©å½“ã«å…¥åŠ›ã—ã¦"Next"ã‚’ã‚¯ãƒªãƒƒã‚¯ã€‚
>
> 0-5. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å ´æ‰€ã‚’æŒ‡å®šã—ã¦"Create"ã‚’ã‚¯ãƒªãƒƒã‚¯ã€‚

## 1, ç”»åƒç´ æã‚’è¿½åŠ ã™ã‚‹

> 1-1. ç”»åƒç´ æã‚’"Assets.xcassets"ã«ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã€‚
<details>
<summary>è©³ç´°ç”»åƒã‚’ã¿ã‚‹</summary>
<div style="text-align:center"><img src ="https://github.com/iosClassForBeginner/fireworks-jp/blob/master/samples/0.gif" /></div>
</details>

[ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰](https://github.com/iosClassForBeginner/fireworks-jp/raw/master/images/Images.zip)

## 2, ã‚¢ãƒ—ãƒªã‚’ãƒ‡ã‚¶ã‚¤ãƒ³ã™ã‚‹ã€‚
#### ğŸ—‚ Main.storyboard

> 2-0. èƒŒæ™¯ã‚’é»’ã«å¤‰æ›´
> <details><summary>è©³ç´°ç”»åƒã‚’ã¿ã‚‹</summary><div style="text-align:center"><img src ="https://github.com/iosClassForBeginner/fireworks-jp/blob/master/samples/2.gif" /></div></details>

> 2-1. "UIImageView"ã‚’è¨­ç½®
> <details><summary>è©³ç´°ç”»åƒã‚’ã¿ã‚‹</summary><div style="text-align:center"><img src ="https://github.com/iosClassForBeginner/fireworks-jp/blob/master/samples/3.gif" /></div></details>

> 2-2. "UIImageView"ã®å¤§ãã•å¤‰æ›´
> <details><summary>è©³ç´°ç”»åƒã‚’ã¿ã‚‹</summary><div style="text-align:center"><img src ="https://github.com/iosClassForBeginner/fireworks-jp/blob/master/samples/4.gif" /></div></details>
> <details><summary>è©³ç´°ç”»åƒã‚’ã¿ã‚‹</summary><div style="text-align:center"><img src ="https://github.com/iosClassForBeginner/fireworks-jp/blob/master/samples/5.gif" /></div></details>
> <details><summary>è©³ç´°ç”»åƒã‚’ã¿ã‚‹</summary><div style="text-align:center"><img src ="https://github.com/iosClassForBeginner/fireworks-jp/blob/master/samples/6.gif" /></div></details>

## 3, ä¸‹è¨˜ã®ã‚³ãƒ¼ãƒ‰ã‚’"ViewController.swift"ã«è¿½åŠ 
#### ğŸ—‚ ViewController.swift

å‚è€ƒãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
ãƒ»<a href="https://developer.apple.com/documentation/quartzcore/caemitterlayer">CAEmitterLayer</a> 
ãƒ»<a href="https://developer.apple.com/documentation/quartzcore/caemittercell">CAEmitterCell</a>

```Swift  
import UIKit

class ViewController: UIViewController
{
    let emitterLayer = CAEmitterLayer()
    
    override func viewDidLoad()
    {
        super.viewDidLoad()
        setupBaseLayer()
        launchFireworks()
    }
    
    func setupBaseLayer()
    {
        let size = view.bounds.size
        emitterLayer.emitterPosition = CGPoint(x: size.width / 2, y: size.height - 100)
        emitterLayer.renderMode = kCAEmitterLayerAdditive
        view.layer.addSublayer(emitterLayer)
    }
    
    func launchFireworks()
    {
        // ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ç”»åƒã‚’å–å¾—
        let particleImage = UIImage(named: "particle")?.cgImage
        
        // ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ã‚’å®šç¾©ã™ã‚‹(èŠ±ç«é–‹å§‹)
        let baseCell = CAEmitterCell()
        baseCell.color = UIColor.white.withAlphaComponent(0.8).cgColor
        baseCell.emissionLongitude = -CGFloat.pi / 2
        baseCell.emissionRange = CGFloat.pi / 5
        baseCell.emissionLatitude = 0
        baseCell.lifetime = 2.0
        baseCell.birthRate = 1
        baseCell.velocity = 400
        baseCell.velocityRange = 50
        baseCell.yAcceleration = 300
        baseCell.redRange   = 0.5
        baseCell.greenRange = 0.5
        baseCell.blueRange  = 0.5
        baseCell.alphaRange = 0.5
        
        // ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ã‚’å®šç¾©ã™ã‚‹(èŠ±ç«æ‰“ã¡ä¸Šã’ä¸­)
        let risingCell = CAEmitterCell()
        risingCell.contents = particleImage
        risingCell.emissionLongitude = (4 * CGFloat.pi) / 2
        risingCell.emissionRange = CGFloat.pi / 7
        risingCell.scale = 0.4
        risingCell.velocity = 100
        risingCell.birthRate = 50
        risingCell.lifetime = 1.5
        risingCell.yAcceleration = 350
        risingCell.alphaSpeed = -0.7
        risingCell.scaleSpeed = -0.1
        risingCell.scaleRange = 0.1
        risingCell.beginTime = 0.01
        risingCell.duration = 0.7
        
        // ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ã‚’å®šç¾©ã™ã‚‹(èŠ±ç«çˆ†ç™º)
        let sparkCell = CAEmitterCell()
        sparkCell.contents = particleImage
        sparkCell.emissionRange = 2 * CGFloat.pi
        sparkCell.birthRate = 8000
        sparkCell.scale = 0.5
        sparkCell.velocity = 130
        sparkCell.lifetime = 3.0
        sparkCell.yAcceleration = 80
        sparkCell.beginTime = 1.5
        sparkCell.duration = 0.1
        sparkCell.alphaSpeed = -0.1
        sparkCell.scaleSpeed = -0.1
        
        // ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ã®å®šç¾©ã‚’ä¸€ã¤ã«ã¾ã¨ã‚ã‚‹
        baseCell.emitterCells = [risingCell, sparkCell]
        
        // ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«è¿½åŠ 
        emitterLayer.emitterCells = [baseCell]
    }
    
}
```
